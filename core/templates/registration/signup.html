<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <link rel="stylesheet" href="{% static 'css/auth.css' %}">
</head>
<body>
<div class="login-container">
    <div class="login-card">

        <div class="login-header">
            <h2>Create Account</h2>
            <p>Sign up to get started</p>
        </div>

        <form class="login-form" id="signupForm" method="post" action="{% url 'signup' %}" novalidate>
            {% csrf_token %}

            {% if form.non_field_errors %}
                <div class="form-errors">
                    {% for error in form.non_field_errors %}
                        <p class="error-message">{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
            <br>
<!-- Username -->
<div class="form-group">
    <div class="input-wrapper">
        <input type="text"
               id="username"
               name="{{ form.username.name }}"
               value="{{ form.username.value|default:'' }}"
               required
               autocomplete="username"
               aria-label="Username">
        <label for="username">Username</label>
        <div class="input-decoration"></div>
    </div>
    {% for error in form.username.errors %}
        <span class="error-message">{{ error }}</span>
    {% endfor %}
</div>

<!-- Email -->
<div class="form-group">
    <div class="input-wrapper">
        <input type="email"
               id="email"
               name="{{ form.email.name }}"
               value="{{ form.email.value|default:'' }}"
               required
               autocomplete="email"
               aria-label="Email">
        <label for="email">Email</label>
        <div class="input-decoration"></div>
    </div>
    {% for error in form.email.errors %}
        <span class="error-message">{{ error }}</span>
    {% endfor %}
</div>

<!-- Password -->
<div class="form-group">
    <div class="input-wrapper password-wrapper">
        <input type="password"
               id="password1"
               name="{{ form.password1.name }}"
               required
               autocomplete="new-password"
               aria-label="Password">
        <label for="password1">Password</label>
        <button type="button" class="password-toggle" id="passwordToggle1">
            <span class="toggle-icon"></span>
        </button>
        <div class="input-decoration"></div>
    </div>
    {% for error in form.password1.errors %}
        <span class="error-message">{{ error }}</span>
    {% endfor %}
</div>

<!-- Confirm Password -->
<div class="form-group">
    <div class="input-wrapper password-wrapper">
        <input type="password"
               id="password2"
               name="{{ form.password2.name }}"
               required
               autocomplete="new-password"
               aria-label="Confirm Password">
        <label for="password2">Confirm Password</label>
        <button type="button" class="password-toggle" id="passwordToggle2">
            <span class="toggle-icon"></span>
        </button>
        <div class="input-decoration"></div>
    </div>
    {% for error in form.password2.errors %}
        <span class="error-message" style="color:#000; background-color:#f0f0f0; padding:4px 8px; border-radius:4px;">
    {{ error }}
</span>

    {% endfor %}
</div>

<!-- Non-field errors -->
{% if form.non_field_errors %}
    {% for error in form.non_field_errors %}
        <div class="error-message">{{ error }}</div>
    {% endfor %}
{% endif %}

            <!-- Submit Button -->
            <button type="submit" class="login-btn">
                <span class="btn-bg"></span>
                <span class="btn-text">Sign Up</span>
            </button>
        </form>

        <div class="signup-link">
            <p>Already have an account? <a href="{% url 'login' %}">Sign In</a></p>
        </div>

        <div class="success-message hidden" id="successMessage">
          <div class="success-animation">
                <div class="success-circle"></div>
                <div class="success-checkmark">âœ“</div>
            </div>
            <h3>Welcome!</h3>
        </div>
    </div>
</div>

<script src="{% static 'scripts/auth.js' %}"></script>
</body>
</html>
